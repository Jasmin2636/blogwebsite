<h2>WELCOME TO BLOG HUB</h2>

  <form id="form" name="form" method="post">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" class="form-control" required />
    </div>
    <div class="container mt-3">
      <label for="selectTopic">Select Topic:</label>
      <select id="selectTopic" name="topic" class="form-control" onchange="filterArticles(this.value)">
        <option value="all">All Topics</option>
        <% topic.forEach(function(topic) { %>
          <option value="<%= topic._id %>"><%= topic.topic %></option>
        <% }) %>
      </select>
    </div>
    <div class="form-group">
      <label for="content">Content</label>
      <textarea id="content" name="content" class="form-control" placeholder="Type here" required></textarea>
    </div>
    <div>
      <button type="submit" class="btn btn-primary">Add Article</button><br>
      <a href="/userarticle">user's article</a> <br> <a href="/logout">Logout</a>
    </div>
  </form>




  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>user article</title>
    <!--<style>
                body {
            background-color: #f8f9fa; /* Set your desired background color */
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .topic-heading {
            font-size: 24px;
            margin-bottom: 20px;
            color: #007bff; /* Sports-themed color */
        }

        .card {
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card-body {
            padding: 20px;
        }

        .card-title {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .card-text {
            color: #555;
        }

        .btn {
            margin-top: 10px;
        }

        .btn-primary {
            /* Removed background color */
            border-color: #f7f8f9;
        }

        .btn-primary:hover {
            background-color: #48494a;
            border-color: #fafbfc;
        }

        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
        }

        .btn-danger:hover {
            background-color: #c82333;
            border-color: #c82333;
        }

        .btn-info {
            /* Removed background color */
            border-color: #fefefe;
        }

        .btn-info:hover {
            background-color: #fafbfb;
            border-color: #fafcfc;
        }

        /* Add styles for like and comment buttons */
       .btn-like i,
.btn-comment i {
    font-size: 36px;
    margin-right: 5px;
    /* Set the desired color for the icons */
    background-color: transparent; /* Remove background color */
}

/* Read More/Read Less Styles */
.dots {
    display: inline;
}

.more {
    display: none;
}
    

    </style>
</head>
<body>
  
    <a href="/articles">  <i class="fa fa-angle-double-left" style="font-size:36px"></i></a>
     Sports Section 
<div class="container mt-5">
    <h1 class="topic-heading">Sgf</h1>
    <% data.reverse().forEach(function(art) { %>
        <% if (art.topic === 'topic') { %>
            <div class="card mb-3">
                <div class="card-body">
                    <h2 style="color: red;"><b><%=message1%></b></h2> 
                    <%=art.name%>
                    (<%=art.date%>) 
                    <h5 class="card-title"><%= art.title %></h5> <h3 style="color: rgb(15, 199, 70);"><b><%=message%></b></h3>
                    <p class="card-text">
                        <%= art.content.substring(0, 200) %><span class="dots">...</span>
                        <span class="more"><%= art.content.substring(200) %></span>
                    </p>
                    <button onclick="toggleReadMore(this)" class="btn btn-read-more">
                        Read more
                    </button>
                    <a href="/edit/<%= art._id %>" class="btn btn-primary">Edit</a>
                    <a href="/delete/<%= art._id %>" class="btn btn-danger">Delete</a>
 </div>
            </div>
        <% } %>
    <% }) %>
</div>

<!-- Politics Section --
<div class="container mt-5">
    <h1 class="topic-heading">POLITICS</h1>
    <h2 style="color: red;"><b><%=message1%></b></h2> 
    <% data.reverse().forEach(function(art) { %>
        <% if (art.topic === 'politics' && art.status === 1) { %>
            <div class="card mb-3">
                <div class="card-body">
                    <%=art.name%>
                    (<%=art.date%>) 
                    <h5 class="card-title"><%= art.title %></h5> <h3 style="color: rgb(15, 199, 70);"><b><%=message%></b></h3>
                    <p class="card-text">
                        <%= art.content.substring(0, 200) %><span class="dots">...</span>
                        <span class="more"><%= art.content.substring(200) %></span>
                    </p>
                    <button onclick="toggleReadMore(this)" class="btn btn-read-more">
                        Read more
                    </button>
                    <a href="/edit/<%= art._id %>" class="btn btn-primary">Edit</a>
                    <a href="/delete/<%= art._id %>" class="btn btn-danger">Delete</a>
                </div>
            </div>
        <% } %>
    <% }) %>
</div>

<!-- Movies Section --
<div class="container mt-5">
    <h1 class="topic-heading">MOVIES</h1>
    <h2 style="color: red;"><b><%=message1%></b></h2> 
    <% data.reverse().forEach(function(art) { %>
        <% if (art.topic === 'movies') { %>
            <div class="card mb-3">
                <div class="card-body">
                    <%=art.name%>
                    (<%=art.date%>) 
                    <h5 class="card-title"><%= art.title %></h5> <h3 style="color: rgb(15, 199, 70);"><b><%=message%></b></h3>
                    <p class="card-text">
                        <%= art.content.substring(0, 200) %><span class="dots">...</span>
                        <span class="more"><%= art.content.substring(200) %></span>
                    </p>
                    <button onclick="toggleReadMore(this)" class="btn btn-read-more">
                        Read more
                    </button>
                    <a href="/edit/<%= art._id %>" class="btn btn-primary">Edit</a>
                    <a href="/delete/<%= art._id %>" class="btn btn-danger">Delete</a>
                </div>
            </div>
        <% } %>
    <% }) %>
</div>
<!-- Health Section --
<div class="container mt-5">
    <h1 class="topic-heading">HEALTH</h1>
 
    <h2 style="color: red;"><b><%=message1%></b></h2> 
    <% data.reverse().forEach(function(art) { %>
        <% if (art.topic === 'health' && art.status === 1) { %>
            <div class="card mb-3">
                <div class="card-body">
                    <%=art.name%>
                    (<%=art.date%>) 
                    <h5 class="card-title"><%= art.title %></h5> <h3 style="color: rgb(15, 199, 70);"><b><%=message%></b></h3>
                    <p class="card-text">
                        <%= art.content.substring(0, 200) %><span class="dots">...</span>
                        <span class="more"><%= art.content.substring(200) %></span>
                    </p>
                    <button onclick="toggleReadMore(this)" class="btn btn-read-more">
                        Read more
                    </button>
                    <a href="/edit/<%= art._id %>" class="btn btn-primary">Edit</a>
                    <a href="/delete/<%= art._id %>" class="btn btn-danger">Delete</a>
                </div>
            </div>
        <% } %>
    <% }) %>
</div>
<!-- Technology Section --
<div class="container mt-5">
    <h1 class="topic-heading">TECHNOLOGY</h1>
    <h2 style="color: red;"><b><%=message1%></b></h2>   
    <% data.reverse().forEach(function(art) { %>
        <% if (art.topic === 'technology' && art.status === 1) { %>
            <div class="card mb-3">
                <div class="card-body">
                 
                    <%=art.name%>
                    (<%=art.date%>) 
                    <h5 class="card-title"><%= art.title %></h5>
                    <h3 style="color: rgb(15, 199, 70);"><b><%=message%></b></h3>
                    <p class="card-text">
                        <%= art.content.substring(0, 200) %><span class="dots">...</span>
                        <span class="more"><%= art.content.substring(200) %></span>
                    </p>
                        <button onclick="toggleReadMore(this)" class="btn btn-read-more">
                        Read more
                    </button>
                 
                    <a href="/edit/<%= art._id %>" class="btn btn-primary">Edit</a>  
                    <a href="/delete/<%= art._id %>" class="btn btn-danger">Delete</a>
                </div>
            </div>
        <% } %>
    <% }) %>
</div>

<!-- ... (repeat the structure for other topics) -->

<!-- Add Bootstrap JS and Popper.js CDN scripts here --
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    function toggleReadMore(btn) {
        var dots = btn.previousElementSibling.querySelector('.dots');
        var moreText = btn.previousElementSibling.querySelector('.more');

        if (dots.style.display === 'inline') {
            dots.style.display = 'none';
            btn.innerHTML = 'Read less';
            moreText.style.display = 'inline';
        } else {
            dots.style.display = 'inline';
            btn.innerHTML = 'Read more';
            moreText.style.display = 'none';
        }
    }
</script>
</body>
</html>-->








<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog Hub</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f8f9fa;
    }

    h2 {
      color: #007bff;
      text-align: center;
      margin-top: 30px;
    }

    form {
      max-width: 600px;
      margin: auto;
      margin-top: 30px;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 20px;
    }

    .btn-primary {
      background-color: #007bff;
      border: none;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .card {
      max-width: 600px;
      margin: auto;
      margin-top: 20px;
      background-color: #ffffff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .card-body {
      padding: 20px;
    }

    .card-title {
      color: #007bff;
    }

    .btn-read-more {
      background-color: #28a745;
      color: #ffffff;
      border: none;
    }

    .btn-read-more:hover {
      background-color: #218838;
    }

    .btn-like, .btn-comment {
      margin-left: 10px;
    }
  </style>
</head>
<body>


  <h2>WELCOME TO BLOG HUB</h2>
  <a href="/userarticle">USER's PAGE</a><a href="/logout">LOGOUT</a>
  <form id="form" name="form" method="post">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" class="form-control" required />
    </div>
    <div class="container mt-3">
      <label for="selectTopic">Select Topic:</label>
      <select id="selectTopic" name="topic" class="form-control" onchange="filterArticles(this.value)">
        <option value="all">All Topics</option>
        <%category.forEach(function(topic) { %>
          <option value="<%= topic._id %>"><%= topic.topic %></option>
        <% }) %>
      </select>
    </div>
    <div class="form-group">
      <label for="content">Content</label>
      <textarea id="content" name="content" class="form-control" placeholder="Type here" required></textarea>
    </div>
    <div>
      <button type="submit" class="btn btn-primary">Add Article</button><br>
     
    </div>
  </form>

  <div>
    <% category.forEach(function(topic) { %>
      <div class="topic">
          <h5><%= topic.topic %></h5>
      </div>
      <% article.reverse().forEach(function(art) { %>
          <% if (art.topic == topic._id&&art.status==1) { %>
              <div class="add">
                  <%=art.name%><%=art.date%>
                  <h1><%= art.title %></h1>
                  <div>
                      <p><%= art.content.substring(0, 200) %></p>
                      <span class="dots">...</span>
                      <span class="more"><%= art.content %></span>
                  </div>
                  <button onclick="toggleReadMore(this)" class="btn btn-read-more">
                      Read more
                  </button>
                  <a href="/like/<%= art._id %>" class="btn btn-primary btn-like"><i class="fas fa-thumbs-up" style='font-size:16px'></i></a>
                  <a href="/comment/<%= art._id %>" class="btn btn-info btn-comment"><i class="far fa-comment-dots" style='font-size:16px'></i></a>
              </div>
          </div>
      <% } %>
    <% }) %>
    <% }) %>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    function toggleReadMore(btn) {
      var dots = btn.previousElementSibling.querySelector('.dots');
      var moreText = btn.previousElementSibling.querySelector('.more');

      if (dots.style.display === 'inline') {
        dots.style.display = 'none';
        btn.innerHTML = 'Read less';
        moreText.style.display = 'inline';
      } else {
        dots.style.display = 'inline';
        btn.innerHTML = 'Read more';
        moreText.style.display = 'none';
      }
    }
  </script>
</body>
</html>





router.get('/sports',checkSignIn,function(req,res){
	art.find(function(err, response){
        if (err) {
            console.error(err);
            res.status(500).send('Internal Server Error');
        } else {
            res.render('sports', {
                data: response
            });
        }
    });
});
router.get('/politics',checkSignIn,function(req,res){
	art.find(function(err, response){
        if (err) {
            console.error(err);
            res.status(500).send('Internal Server Error');
        } else {
            res.render('politics', {
                data: response
            });
        }
    });
});
router.get('/movies',checkSignIn,function(req,res){
	art.find(function(err, response){
        if (err) {
            console.error(err);
            res.status(500).send('Internal Server Error');
        } else {
            res.render('movies', {
                data: response
            });
        }
    });
});
router.get('/health',checkSignIn,function(req,res){
	art.find(function(err, response){
        if (err) {
            console.error(err);
            res.status(500).send('Internal Server Error');
        } else {
            res.render('health', {
                data: response
            });
        }
    });
});
router.get('/technology',checkSignIn,function(req,res){
	art.find(function(err, response){
        if (err) {
            console.error(err);
            res.status(500).send('Internal Server Error');
        } else {
            res.render('technology', {
                data: response
            });
        }
    });
});

router.post('/managerlogin', function (req, res, next) {
	//console.log(req.body);
	manager.findOne({name:req.body.name,id:req.body.id},function(err,data){
		if(data){
			
			if(data.password==req.body.password){
				req.session.person = {
                    name: data.name,
                    id: data.id,
                    Topic: data.Topic,
                    status: data.status
                };
				if(data.Topic==='sports'&&data.status===1){
                    req.session.manager=data;
					res.redirect('/sports/?msg=opened sports')
				
				}else if(data.Topic==='politics' && data.status === 1){
                    req.session.manager=data;
					res.redirect('/politics/?msg=opemned politics')
				}
                else if(data.Topic==='movies' && data.status === 1){
                    req.session.manager=data;
					res.redirect('/movies/?msg=opemned movies')
				}
                else if(data.Topic==='health' && data.status === 1){
                    req.session.manager=data;
					res.redirect('/health/?msg=opemned health')
				}
                else if(data.Topic==='technology' && data.status === 1){
                    req.session.manager=data;
					res.redirect('/technology/?msg=opemned technology')
				}
			}else{
				res.render('managerlogin',{
					message:"invalid password"
				})
			}
		}else{
			res.render('managerlogin',{message:"invalid username "});
		}
	});
}); 


router.get('/logout_manager', function(req, res){
    req.session.destroy(function(){
       console.log("user logged out.")
    });
    res.redirect('login');
 });
   

 //interface.ejs


 <!--<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>interface</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
     <style>
      #menu {
    background-color: #aec9cd; /* Change background color */
  }

  #menu .navbar-brand,
  #menu .navbar-nav .nav-link {
    color: #ecf0f1; /* Change text color */
  }

  #menu .navbar-brand:hover,
  #menu .navbar-nav .nav-link:hover {
    color: #ffffff; /* Change text color on hover */
  }


li{
    display: inline;
    padding: 3%;
    top: 0;
    font-family: monospace;
    font-size: 20px;

}
a{
    color: rgb(13, 25, 18);
    text-decoration: none;
    position: -webkit-sticky;
    position: sticky;
    top: 0;
}
a:hover{
  color:red ;
  text-decoration: none; 
}
@keyframes fadeInUp {
      from {
        opacity: 1;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .card {
      transition: transform 0.3s;
      animation: fadeInUp 1s ease-out;
    }

    .card:hover {
      transform: scale(1.1);
    }
     </style>
</head>
<body style="background-color: azure;">
    
    <nav id="menu">
        <ul >
          <li><a href="/signup">signup </a></li>
          <li><a href="/login">Login</a></li>

        </ul>
      </nav>
<!--card 1-->
<div class="card" style="width: 18rem;float:left;margin: .5%;">
    <img src="sports.jpg" class="card-img-top" alt="img">
    <div class="card-body">
      <h5 class="card-title">Sports</h5>
      <p class="card-text">In the realm of sports, the thrill of competition continues to captivate audiences worldwide. Whether it's the intense battles on the soccer field, the strategic maneuvers in basketball, or the heart-stopping moments on the tennis court, sports provide a universal language that unites people across cultures. From record-breaking feats to underdog triumphs, the world of sports remains a dynamic arena where athletes showcase their skill, determination, and the unyielding human spirit.</p>
      <a href="/signup" class="btn btn-primary">add your article</a>
      <a href="/readsports" class="btn btn-primary">read articles</a>
    </div>
  </div>
  <!--card 2-->
  <div class="card" style="width: 18rem;float:left;margin: .5%;">
    <img src="politics.avif" class="card-img-top" alt="img">
    <div class="card-body">
      <h5 class="card-title">Politics</h5>
      <p class="card-text">The political landscape is a complex tapestry woven with ideologies, policies, and the constant ebb and flow of power. In the corridors of government, decisions are made that shape the destinies of nations. From debates on economic reforms to discussions about social justice, politics is a realm where diverse perspectives collide. In the pursuit of a better future, politicians navigate the challenges of governance, seeking solutions that resonate with the needs and aspirations of their constituents.</p>
      <a href="/signup" class="btn btn-primary">add your article</a>
      <a href="readpolitics" class="btn btn-primary">read articles</a>
    </div>
  </div>
  <!--card 3-->
  <div class="card" style="width: 18rem;float:left;margin: .5%;">
    <img src="movie.jpg" class="card-img-top" alt="img">
    <div class="card-body"><br>
      <h5 class="card-title">Movies</h5>
      <p class="card-text">The silver screen continues to enchant audiences with its magical ability to transport viewers to different worlds and evoke a myriad of emotions. Whether it's the gripping narratives of dramas, the laughter-inducing moments of comedies, or the pulse-pounding action sequences of thrillers, movies are a form of art that transcends cultural boundaries. From Hollywood blockbusters to independent gems, the world of cinema of stories that entertain, inspire, and provoke thought.</p>
      <a href="/signup" class="btn btn-primary">add your article</a>
      <a href="readmovies" class="btn btn-primary">read articles</a>
    </div>
  </div>
  <!--card 4-->
  <div class="card" style="width: 18rem;float:left;margin: .5%;">
    <img src="group-doctors.avif" class="card-img-top" alt="img">
    <div class="card-body">
      <h5 class="card-title">Health</h5>
      <p class="card-text">n the realm of health, the pursuit of well-being is a journey that intertwines with every aspect of our lives. From physical fitness to mental wellness, individuals are increasingly recognizing the importance of holistic health.  exercise, and self-care profoundly impact our overall vitality. As advancements in medical science continue, the conversation around health expands to include preventive measures, lifestyle choices, and the quest for a balanced and fulfilling life.</p>
      <a href="/signup" class="btn btn-primary">add your article</a>
      <a href="readhealth" class="btn btn-primary">read articles</a>
    </div>
  </div>
<!--card 5-->
<div class="card" style="width: 18rem;float:left;margin: .5%;">
  <img src="istockphoto-157686875-612x612.jpg" class="card-img-top" alt="img">
  <div class="card-body"><br><br>
    <h5 class="card-title">technology</h5>
    <p class="card-text">The rapid evolution of technology shapes the way we live, work, and connect with the world. smart devices, the digital age has ushered in unprecedented changes. Innovations in technology fuel progress in various fields, from communication and transportation to healthcare and education. As society navigates the digital landscape, discussions on privacy, ethical considerations, and the potential of emerging technologies become integral to the ongoing dialogue about the future.</p>
    <a href="/signup" class="btn btn-primary">add your article</a>
    <a href="readtech" class="btn btn-primary">read articles</a>
  </div>
</div></div>
  


      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    </body>

</html>-->